# ************************************************************************************************
# Warning: YAML source code for Canvas Apps should only be used to review changes made within Power Apps Studio and for minor edits (Preview).
# Use the maker portal to create and edit your Power Apps.
# 
# The schema file for Canvas Apps is available at https://go.microsoft.com/fwlink/?linkid=2304907
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
ComponentDefinitions:
  cmpCode:
    DefinitionType: CanvasComponent
    CustomProperties:
      ChangeText:
        PropertyKind: Action
        DisplayName: Change Text
        Description: A custom property
        ReturnType: Text
        Parameters:
          - TextToChange:
              Description: A parameter
              DataType: Text
              Default: ="Text"
      ColorPrimary:
        PropertyKind: Input
        DisplayName: Color Primary
        Description: A custom property
        DataType: Color
        Default: =App.Theme.Colors.Primary
      ControlPadding:
        PropertyKind: Input
        DisplayName: Control Padding
        Description: A custom property
        DataType: Number
        Default: =20
      DefaultDisplayText:
        PropertyKind: Input
        DisplayName: Default Display Text
        Description: A custom property
        DataType: Text
        Default: ="➡️ DISPLAY THIS"
      ExecutionText:
        PropertyKind: Input
        DisplayName: Execution Text
        Description: A custom property
        DataType: Text
        Default: ="Run Code"
      OnExecute:
        PropertyKind: Event
        DisplayName: On Execute
        Description: Whenever the user clicks on the button, they will want to run the code they've provided
        ReturnType: None
        Default: =false
      SquareRoot:
        PropertyKind: OutputFunction
        DisplayName: SquareRoot
        Description: Pass in a number and it squared
        DataType: Number
        Parameters:
          - NumberValue:
              Description: Number value to operate on
              DataType: Number
              Default: =100
    Properties:
      ChangeText: =Set(gblDisplay, TextToChange);
      Height: =72
      SquareRoot: =
      Width: =500
    Children:
      - btnRunCode:
          Control: Button@0.0.45
          Properties:
            OnSelect: |-
              =Set(gblDisplay, "SQ RT: " & cmpCode.SquareRoot(5));
              cmpCode.OnExecute();
            Text: =cmpCode.ExecutionText
            Width: =160
            X: =cmpCode.ControlPadding
            Y: =cmpCode.ControlPadding
      - lblDisplayText:
          Control: Text@0.0.51
          Properties:
            FontColor: =cmpCode.ColorPrimary
            Height: =30
            Size: =18
            Text: =cmpCode.DefaultDisplayText & " " & gblDisplay
            VerticalAlign: =VerticalAlign.Middle
            Width: =Parent.Width - Self.X - cmpCode.ControlPadding
            X: '=cmpCode.ControlPadding * 2 + btnRunCode.Width '
            Y: =cmpCode.ControlPadding
